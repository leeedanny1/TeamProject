<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="com.springboot.jcmarket.domain.chat.ChatRepository">
  	<select id="getChatListAll"  resultType="com.springboot.jcmarket.domain.chat.Chat">
  		SELECT * FROM chat_mst where buyer_nickname =#{user_nickname} or seller_nickname = #{user_nickname}
  	</select>
  	<select id = "getChatting" resultType="com.springboot.jcmarket.domain.chat.Chat">
 		select
			cd.chat_index, cd.chat_content
			where buyer_nickname = #{buyer_nickname} or seller_nickname = #{seller_nickname} 
		from
			chat_dtl cd
			left outer join chat_mst cm on(cm.buyer_nickname = cd.buyer_nickname AND  cm.item_code = cd.item_code AND cm.seller_nickname=cd.seller_nickname)
			
  	</select>
  	<select id=""> 
  		select 
  	</select>
 
  </mapper>